<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng Thời Khóa Biểu</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
            transition: background-color 0.3s;
        }
        th {
            background-color: #B1E9FF;
            color: #333;
        }
        td {
            background-color: #fff;
            color: #555;
        }
        td:hover {
            background-color: #f0f0f0;
        }
        /* Màu sắc cho các buổi trong ngày */
        .morning {
            background-color: #ffecb3; /* Màu sáng */
        }
        .lunch {
            background-color: #ffccbc; /* Màu trưa */
        }
        .afternoon {
            background-color: #c8e6c9; /* Màu chiều */
        }
        /* Tô đỏ cho T7 và CN */
        .red {
            background-color: #ff8a80; /* Màu đỏ */
            color: #fff; /* Chữ màu trắng */
        }
        .green {
            background-color: #ffd700; /* Màu đỏ */
            color: #fff; /* Chữ màu trắng */
        }
        .time-cell {
            font-weight: bold;
        }
        @media (max-width: 600px) {
            th, td {
                padding: 10px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>

<h1>Bảng Thời Khóa Biểu</h1>
<table id="schedule-table">
    <thead>
        <tr>
            <th class="green">Thời Gian </th>
            <th>Thứ 2</th>
            <th>Thứ 3</th>
            <th>Thứ 4</th>
            <th>Thứ 5</th>
            <th>Thứ 6</th>
            <th class="red">Thứ 7</th>
            <th class="red">Chủ Nhật</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="time-cell morning">Buổi Sáng <img src="https://img.icons8.com/ios/24/000000/sun.png"/></td>
            <td class="morning" id="t2-morning"></td>
            <td class="morning" id="t3-morning"></td>
            <td class="morning" id="t4-morning"></td>
            <td class="morning" id="t5-morning"></td>
            <td class="morning" id="t6-morning"></td>
            <td class="morning red" id="t7-morning"></td>
            <td class="morning red" id="cn-morning"></td>
        </tr>
        <tr>
            <td class="time-cell lunch">Buổi Trưa <img src="https://img.icons8.com/ios/24/000000/lunch.png" /></td>
            <td class="lunch" id="t2-lunch"></td>
            <td class="lunch" id="t3-lunch"></td>
            <td class="lunch" id="t4-lunch"></td>
            <td class="lunch" id="t5-lunch"></td>
            <td class="lunch" id="t6-lunch"></td>
            <td class="lunch red" id="t7-lunch"></td>
            <td class="lunch red" id="cn-lunch"></td>
        </tr>
        <tr>
            <td class="time-cell afternoon">Buổi Chiều <img src="https://img.icons8.com/ios/24/000000/evening.png" /></td>
            <td class="afternoon" id="t2-afternoon"></td>
            <td class="afternoon" id="t3-afternoon"></td>
            <td class="afternoon" id="t4-afternoon"></td>
            <td class="afternoon" id="t5-afternoon"></td>
            <td class="afternoon" id="t6-afternoon"></td>
            <td class="afternoon red" id="t7-afternoon"></td>
            <td class="afternoon red" id="cn-afternoon"></td>
        </tr>
    </tbody>
</table>

<script>
    async function fetchSchedule() {
        const response = await fetch('https://script.google.com/macros/s/AKfycbyp7S_kVt2ngBKSqFNuhUYhkP-VitaRyodm6l8ZDofhccTLmSt2xyE4vPkaJ_wB7VMR/exec');
        const data = await response.json();

        if (data.length) {
            displaySchedule(data);
        } else {
            alert('Không tìm thấy dữ liệu.');
        }
    }

    function displaySchedule(schedule) {
        schedule.forEach(item => {
            const dayMap = {
                "thứ 2": "t2",
                "thứ 3": "t3",
                "thứ 4": "t4",
                "thứ 5": "t5",
                "thứ 6": "t6",
                "thứ 7": "t7",
                "chủ nhật": "cn"
            };
            
            const dayKey = dayMap[item.day.toLowerCase()];
            if (dayKey) {
                document.getElementById(`${dayKey}-morning`).textContent += item.morning ? item.morning : '';
                document.getElementById(`${dayKey}-lunch`).textContent += item.lunch ? item.lunch : '';
                document.getElementById(`${dayKey}-afternoon`).textContent += item.afternoon ? item.afternoon : '';
            }
        });
    }

    fetchSchedule();
</script>

</body>
</html>
